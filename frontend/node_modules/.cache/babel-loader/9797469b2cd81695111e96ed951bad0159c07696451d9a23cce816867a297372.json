{"ast":null,"code":"var _jsxFileName = \"C:\\\\securetradeplatform\\\\frontend\\\\src\\\\components\\\\UserManagement.js\",\n  _s = $RefreshSig$();\n// src/components/UserManagement.js\nimport React, { useContext } from 'react';\nimport { UserContext } from '../context/UserContext';\nimport axios from 'axios';\nimport './Panel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserManagement = () => {\n  _s();\n  const {\n    users,\n    loading,\n    error\n  } = useContext(UserContext);\n  const token = localStorage.getItem('token');\n  const handleBlockUnblock = async (id, blocked) => {\n    try {\n      await axios.patch(`http://localhost:5000/api/users/${id}/block`, {\n        blocked: !blocked\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      // Refresh users data\n      window.location.reload();\n    } catch (err) {\n      console.error('Error updating user status:', err);\n    }\n  };\n  const handleRedFlag = async id => {\n    try {\n      await axios.patch(`http://localhost:5000/api/users/${id}/redflag`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      // Refresh users data\n      window.location.reload();\n    } catch (err) {\n      console.error('Error red-flagging user:', err);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"user-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email: \", user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Role: \", user.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", user.blocked ? 'Blocked' : 'Active']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockUnblock(user.id, user.blocked),\n          className: user.blocked ? 'unblock' : 'block',\n          children: user.blocked ? 'Unblock' : 'Block'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRedFlag(user.id),\n          className: \"red-flag\",\n          disabled: user.redFlagged,\n          children: user.redFlagged ? 'Red-Flagged' : 'Red Flag'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(UserManagement, \"CNUA7hIgvpEdnjnhVbnnDISuz1A=\");\n_c = UserManagement;\nexport default UserManagement;\nvar _c;\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"names":["React","useContext","UserContext","axios","jsxDEV","_jsxDEV","UserManagement","_s","users","loading","error","token","localStorage","getItem","handleBlockUnblock","id","blocked","patch","headers","Authorization","window","location","reload","err","console","handleRedFlag","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","user","name","email","role","onClick","disabled","redFlagged","_c","$RefreshReg$"],"sources":["C:/securetradeplatform/frontend/src/components/UserManagement.js"],"sourcesContent":["// src/components/UserManagement.js\r\nimport React, { useContext } from 'react';\r\nimport { UserContext } from '../context/UserContext';\r\nimport axios from 'axios';\r\nimport './Panel.css';\r\n\r\nconst UserManagement = () => {\r\n  const { users, loading, error } = useContext(UserContext);\r\n  const token = localStorage.getItem('token');\r\n\r\n  const handleBlockUnblock = async (id, blocked) => {\r\n    try {\r\n      await axios.patch(\r\n        `http://localhost:5000/api/users/${id}/block`,\r\n        { blocked: !blocked },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      // Refresh users data\r\n      window.location.reload();\r\n    } catch (err) {\r\n      console.error('Error updating user status:', err);\r\n    }\r\n  };\r\n\r\n  const handleRedFlag = async (id) => {\r\n    try {\r\n      await axios.patch(\r\n        `http://localhost:5000/api/users/${id}/redflag`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      // Refresh users data\r\n      window.location.reload();\r\n    } catch (err) {\r\n      console.error('Error red-flagging user:', err);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div className=\"panel\">\r\n      <h1>User Management</h1>\r\n      <ul>\r\n        {users.map((user) => (\r\n          <li key={user.id} className=\"user-card\">\r\n            <h2>{user.name}</h2>\r\n            <p>Email: {user.email}</p>\r\n            <p>Role: {user.role}</p>\r\n            <p>Status: {user.blocked ? 'Blocked' : 'Active'}</p>\r\n            <button onClick={() => handleBlockUnblock(user.id, user.blocked)} className={user.blocked ? 'unblock' : 'block'}>\r\n              {user.blocked ? 'Unblock' : 'Block'}\r\n            </button>\r\n            <button onClick={() => handleRedFlag(user.id)} className=\"red-flag\" disabled={user.redFlagged}>\r\n              {user.redFlagged ? 'Red-Flagged' : 'Red Flag'}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}