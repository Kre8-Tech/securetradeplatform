{"ast":null,"code":"// frontend/src/components/useDashboardData.js\nimport{useState,useEffect}from'react';import axios from'axios';const useDashboardData=()=>{const[userActivity,setUserActivity]=useState([]);const[transactions,setTransactions]=useState([]);const[whatsNew,setWhatsNew]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const token=localStorage.getItem('token');useEffect(()=>{const fetchData=async()=>{try{// Fetch user activity\nconst activityResponse=await axios.get('http://localhost:5000/api/user/activity',{headers:{Authorization:`Bearer ${token}`}});setUserActivity(activityResponse.data);// Fetch transactions\nconst transactionsResponse=await axios.get('http://localhost:5000/api/transactions',{headers:{Authorization:`Bearer ${token}`}});setTransactions(transactionsResponse.data);// Fetch announcements (what's new)\nconst whatsNewResponse=await axios.get('http://localhost:5000/api/whats-new',{headers:{Authorization:`Bearer ${token}`}});setWhatsNew(whatsNewResponse.data);}catch(err){setError('Failed to fetch dashboard data.');}finally{setLoading(false);}};fetchData();},[token]);return{userActivity,transactions,whatsNew,loading,error};};export default useDashboardData;","map":{"version":3,"names":["useState","useEffect","axios","useDashboardData","userActivity","setUserActivity","transactions","setTransactions","whatsNew","setWhatsNew","loading","setLoading","error","setError","token","localStorage","getItem","fetchData","activityResponse","get","headers","Authorization","data","transactionsResponse","whatsNewResponse","err"],"sources":["C:/securetradeplatform/frontend/src/components/useDashboardData.js"],"sourcesContent":["// frontend/src/components/useDashboardData.js\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst useDashboardData = () => {\r\n  const [userActivity, setUserActivity] = useState([]);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [whatsNew, setWhatsNew] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Fetch user activity\r\n        const activityResponse = await axios.get('http://localhost:5000/api/user/activity', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setUserActivity(activityResponse.data);\r\n\r\n        // Fetch transactions\r\n        const transactionsResponse = await axios.get('http://localhost:5000/api/transactions', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setTransactions(transactionsResponse.data);\r\n\r\n        // Fetch announcements (what's new)\r\n        const whatsNewResponse = await axios.get('http://localhost:5000/api/whats-new', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setWhatsNew(whatsNewResponse.data);\r\n      } catch (err) {\r\n        setError('Failed to fetch dashboard data.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [token]);\r\n\r\n  return { userActivity, transactions, whatsNew, loading, error };\r\n};\r\n\r\nexport default useDashboardData;"],"mappings":"AAAA;AACA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGL,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACM,YAAY,CAAEC,eAAe,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACQ,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAc,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3Cf,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF;AACA,KAAM,CAAAC,gBAAgB,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,yCAAyC,CAAE,CAClFC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUP,KAAK,EAAG,CAC9C,CAAC,CAAC,CACFT,eAAe,CAACa,gBAAgB,CAACI,IAAI,CAAC,CAEtC;AACA,KAAM,CAAAC,oBAAoB,CAAG,KAAM,CAAArB,KAAK,CAACiB,GAAG,CAAC,wCAAwC,CAAE,CACrFC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUP,KAAK,EAAG,CAC9C,CAAC,CAAC,CACFP,eAAe,CAACgB,oBAAoB,CAACD,IAAI,CAAC,CAE1C;AACA,KAAM,CAAAE,gBAAgB,CAAG,KAAM,CAAAtB,KAAK,CAACiB,GAAG,CAAC,qCAAqC,CAAE,CAC9EC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUP,KAAK,EAAG,CAC9C,CAAC,CAAC,CACFL,WAAW,CAACe,gBAAgB,CAACF,IAAI,CAAC,CACpC,CAAE,MAAOG,GAAG,CAAE,CACZZ,QAAQ,CAAC,iCAAiC,CAAC,CAC7C,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDM,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,MAAO,CAAEV,YAAY,CAAEE,YAAY,CAAEE,QAAQ,CAAEE,OAAO,CAAEE,KAAM,CAAC,CACjE,CAAC,CAED,cAAe,CAAAT,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}